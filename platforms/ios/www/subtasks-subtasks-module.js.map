{"version":3,"sources":["webpack:///./src/app/subtasks/subtasks.module.ts","webpack:///./src/app/subtasks/subtasks.page.html","webpack:///./src/app/subtasks/subtasks.page.scss","webpack:///./src/app/subtasks/subtasks.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AACH;AACN;AACD;AAEE;AAE/C,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF,CAAC;AAYF;IAAA;IAAiC,CAAC;IAArB,kBAAkB;QAV9B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY,EAAC,2DAAY;gBACzB,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,mEAAe,CAAC,QAAQ,CAAC,EAAE,CAAC;aAC7B;YACD,YAAY,EAAE,CAAC,2DAAY,CAAC;SAC7B,CAAC;OACW,kBAAkB,CAAG;IAAD,yBAAC;CAAA;AAAH;;;;;;;;;;;;AC3B/B,8NAA8N,0JAA0J,YAAY,kBAAkB,yBAAyB,6IAA6I,eAAe,mCAAmC,gBAAgB,aAAa,uEAAuE,6BAA6B,oCAAoC,MAAM,YAAY,oLAAoL,6GAA6G,oK;;;;;;;;;;;ACAtkC,+BAA+B,gBAAgB,EAAE,2BAA2B,uBAAuB,EAAE,eAAe,wBAAwB,EAAE,mBAAmB,iBAAiB,EAAE,oBAAoB,gBAAgB,EAAE,oBAAoB,kBAAkB,EAAE,+CAA+C,+3B;;;;;;;;;;;;;;;;;;;;;;;;;ACA/P;AACO;AACR;AACU;AACP;AACA;AACG;AACd;AACa;AAOtD;IAME,sBAAmB,YAA0B,EACpC,OAAgB,EAChB,eAAgC,EAChC,OAAgB,EAChB,gBAAkC,EAClC,KAAqB,EACrB,MAAc,EACd,cAA8B;QAPvC,iBA4BC;QA5BkB,iBAAY,GAAZ,YAAY,CAAc;QACpC,YAAO,GAAP,OAAO,CAAS;QAChB,oBAAe,GAAf,eAAe,CAAiB;QAChC,YAAO,GAAP,OAAO,CAAS;QAChB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAVhC,SAAI,GAAG,wBAAwB,CAAC;QAChC,UAAK,GAAQ,EAAE,CAAC;QAChB,aAAQ,GAAW,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC;QAS1D,IAAI,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE;YACjD,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SACxD;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACxB;QACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAM;YAChC,KAAI,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,eAAK;YACpC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,qBAAW;gBAC9C,IAAI,OAAO,WAAW,IAAI,QAAQ,EAAE;oBAClC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;iBACvC;gBACD,KAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC;YACpC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,eAAK;YACtC,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,YAAY,CAAC,OAAO,CAAC,eAAe,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+BAAQ,GAAR;QACE,IAAI,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE;YACjD,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;SACxD;aAAM;YACL,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACxB;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,sCAAe,GAAf;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IACD,cAAc;IACP,6BAAM,GAAb;QACE,IAAI,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;IACtD,CAAC;IAED,aAAa;IACN,oCAAa,GAApB,UAAqB,KAAK;QACxB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC;IACnD,CAAC;IAED,cAAc;IACR,iCAAU,GAAhB;;;;;;4BACgB,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC9C,SAAS,EAAE,sEAAY;4BACvB,cAAc,EAAE;gCACd,KAAK,EAAE,iBAAiB;6BACzB;yBACF,CAAC;;wBALI,KAAK,GAAG,SAKZ;wBACF,KAAK,CAAC,YAAY,EAAE;6BACjB,IAAI,CAAC,UAAC,IAAI;4BACT,KAAI,CAAC,QAAQ,EAAE,CAAC;4BAChB,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,EAAE;gCAC1B,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gCAC9D,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gCAC3B,wCAAwC;6BACzC;wBACH,CAAC,CAAC,CAAC;wBACE,qBAAM,KAAK,CAAC,OAAO,EAAE;4BAA5B,sBAAO,SAAqB,EAAC;;;;KAC9B;IAED,uBAAuB;IAChB,mCAAY,GAAnB,UAAoB,EAAE,EAAE,MAAM;QAC5B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI;YACrB,IAAI,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE;gBACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACtB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;IACL,+BAAQ,GAAd,UAAe,EAAE;;;;;;;wBAEf,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI;4BACrB,IAAI,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE;gCACjB,YAAY,GAAG,IAAI,CAAC;6BACrB;wBACH,CAAC,CAAC,CAAC;wBACW,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gCAC9C,SAAS,EAAE,sEAAY;gCACvB,cAAc,EAAE;oCACd,QAAQ,EAAE,YAAY;oCACtB,KAAK,EAAE,WAAW;iCACnB;6BACF,CAAC;;wBANI,KAAK,GAAG,SAMZ;wBACF,KAAK,CAAC,YAAY,EAAE;6BACjB,IAAI,CAAC,UAAC,IAAI;4BACT,KAAI,CAAC,QAAQ,EAAE,CAAC;4BAChB,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,EAAE;gCACpD,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;gCAC9D,uCAAuC;6BACxC;wBACH,CAAC,CAAC,CAAC;wBACE,qBAAM,KAAK,CAAC,OAAO,EAAE;4BAA5B,sBAAO,SAAqB,EAAC;;;;KAC9B;IAED,gBAAgB;IACT,+BAAQ,GAAf;QAAA,iBAIC;QAHC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,qBAAW;YAC9C,KAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC;QACpC,CAAC,CAAC;IACJ,CAAC;IAED,8BAA8B;IACvB,qCAAc,GAArB,UAAsB,OAAO;QAA7B,iBAIC;QAHC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,cAAI;YACnD,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QAC7C,CAAC,CAAC;IACJ,CAAC;IA9HU,YAAY;QALxB,+DAAS,CAAC;YACT,QAAQ,EAAE,cAAc;YACxB,kGAAmC;;SAEpC,CAAC;+EAOiC,iEAAY;YAC3B,sDAAO;YACC,8DAAe;YACvB,iEAAO;YACE,oEAAgB;YAC3B,8DAAc;YACb,sDAAM;YACE,+DAAc;OAb5B,YAAY,CA+HxB;IAAD,mBAAC;CAAA;AA/HwB","file":"subtasks-subtasks-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport {TranslateModule} from '@ngx-translate/core';\nimport {SharedModule} from '../shared.module';\nimport { IonicModule } from '@ionic/angular';\n\nimport { SubtasksPage } from './subtasks.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SubtasksPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,SharedModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    TranslateModule.forChild({})\n  ],\n  declarations: [SubtasksPage]\n})\nexport class SubtasksPageModule {}\n","module.exports = \"<ion-header>\\n  <app-header [title]=\\\"'subtasks' | translate\\\" [showMenu]=\\\"false\\\" [showBack]=\\\"true\\\" [isGoBack]=\\\"back\\\"> </app-header>\\n</ion-header>\\n<ion-content>\\n  <div *ngFor=\\\"let task of tasks; let i = index\\\">\\n    <ion-item (click)=\\\"navigateToView(task)\\\" *ngIf=\\\"!task.isDeleted\\\">\\n      <ion-thumbnail slot=\\\"start\\\" style=\\\"font-size: 11px;width: 60px;padding-top: 16px;\\\"\\n        [ngClass]=\\\"{'st-completed': task.status == 'completed', 'st-notstarted': task.status == 'not yet started', 'st-inprogress': task.status == 'in progress'}\\\">\\n        {{task.endDate | date: 'dd-MM-yyyy'}}\\n        <p> {{task.status}}</p>\\n      </ion-thumbnail>\\n      <ion-label style=\\\"font-size: 14px;\\n          font-weight: 400;\\n    white-space: unset !important;\\\"> {{task.title}} </ion-label>\\n      <ion-icon slot=\\\"end\\\" name=\\\"ios-arrow-forward\\\"> </ion-icon>\\n    </ion-item>\\n  </div>\\n  <!-- fab placed to the bottom end -->\\n  <div style=\\\"height:70px;\\\"></div>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" edge slot=\\\"fixed\\\" style=\\\"margin-bottom: 40px;\\\">\\n    <ion-fab-button color=\\\"success\\\" (click)=\\\"createTask()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\"","module.exports = \"ion-col div {\\n  color: #000; }\\n  ion-col div ion-label {\\n    font-weight: 600; }\\n  ion-col p {\\n  text-align: justify; }\\n  .st-completed {\\n  color: green; }\\n  .st-notstarted {\\n  color: #000; }\\n  .st-inprogress {\\n  color: orange; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aXNod2FuYXRoYmFkaWdlci9Eb2N1bWVudHMvYXBwcy9zbC11bm5hdGkvdW5uYXRpLWZlYi9zbC11bm5hdGktbW9iaWxlL3NyYy9hcHAvc3VidGFza3Mvc3VidGFza3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBRUksV0FBVSxFQUFBO0VBRmQ7SUFJSSxnQkFBZ0IsRUFBQTtFQUlwQjtFQUdJLG1CQUFtQixFQUFBO0VBR3ZCO0VBRUUsWUFBVyxFQUFBO0VBRWI7RUFFRSxXQUFVLEVBQUE7RUFFWjtFQUVFLGFBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL3N1YnRhc2tzL3N1YnRhc2tzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuICBpb24tY29sIGRpdiBcbiAge1xuICAgICAgY29sb3I6IzAwMDtcbiAgICAgIGlvbi1sYWJlbHtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIFxuICAgIH1cbiAgfVxuICBpb24tY29sXG4gIHtcbiAgICBwe1xuICAgICAgdGV4dC1hbGlnbjoganVzdGlmeTtcbiAgICB9XG4gIH1cbiAgLnN0LWNvbXBsZXRlZFxuICB7XG4gICAgY29sb3I6Z3JlZW47XG4gIH1cbiAgLnN0LW5vdHN0YXJ0ZWRcbiAge1xuICAgIGNvbG9yOiMwMDA7XG4gIH1cbiAgLnN0LWlucHJvZ3Jlc3NcbiAge1xuICAgIGNvbG9yOm9yYW5nZTtcbiAgfVxuICJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\nimport { EditTaskPage } from '../edit-task/edit-task.page';\nimport { NetworkService } from '../network.service';\nimport { Network } from '@ionic-native/network/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Storage } from '@ionic/storage';\nimport { TasksService } from '../tasks/tasks.service';\n\n@Component({\n  selector: 'app-subtasks',\n  templateUrl: './subtasks.page.html',\n  styleUrls: ['./subtasks.page.scss'],\n})\nexport class SubtasksPage implements OnInit {\n  public id;\n  public connected;\n  public back = 'project-view/task-view';\n  public tasks: any = [];\n  public language: string = this.translateService.currentLang;\n  constructor(public tasksService: TasksService,\n    public storage: Storage, \n    public modalController: ModalController, \n    public network: Network, \n    public translateService: TranslateService, \n    public route: ActivatedRoute, \n    public router: Router, \n    public networkService: NetworkService ) {\n    if (localStorage.getItem('networkStatus') != null) {\n      this.connected = localStorage.getItem('networkStatus');\n    } else {\n      this.connected = false;\n    }\n    this.route.params.subscribe(params => {\n      this.id = params.id;\n    });\n    this.tasksService.emit.subscribe(value => {\n      this.storage.get('currentTask').then(currentTask => {\n        if (typeof currentTask == \"string\") {\n          currentTask = JSON.parse(currentTask);\n        }\n        this.tasks = currentTask.subTasks;\n      })\n    });\n    this.networkService.emit.subscribe(value => {\n      this.connected = value;\n      localStorage.setItem('networkStatus', this.connected);\n    });\n  }\n\n  ngOnInit() {\n    if (localStorage.getItem('networkStatus') != null) {\n      this.connected = localStorage.getItem('networkStatus');\n    } else {\n      this.connected = false;\n    }\n    this.getTasks();\n  }\n\n  ionViewDidEnter() {\n    this.getTasks();\n  }\n  // Back button\n  public goBack() {\n    let pid = localStorage.getItem(\"id\");\n    this.router.navigateByUrl('project-view/task-view');\n  }\n\n  //Toggle menu\n  public toggleSection(index) {\n    this.tasks[index].open = !this.tasks[index].open;\n  }\n\n  // Create task\n  async createTask() {\n    const modal = await this.modalController.create({\n      component: EditTaskPage,\n      componentProps: {\n        title: \"Create Sub task\",\n      }\n    });\n    modal.onDidDismiss()\n      .then((data) => {\n        this.getTasks();\n        if (data.data != undefined) {\n          data.data.completionDate = new Date(data.data.completionDate);\n          this.tasks.push(data.data);\n          //this.successToast('Task is created.');\n        }\n      });\n    return await modal.present();\n  }\n\n  //Change status of task\n  public changeStatus(id, status) {\n    this.tasks.forEach(task => {\n      if (task.id == id) {\n        task.status = status;\n      }\n    });\n  }\n\n  //edit Task\n  async editTask(id) {\n    let taskToBeEdit;\n    this.tasks.forEach(task => {\n      if (task.id == id) {\n        taskToBeEdit = task;\n      }\n    });\n    const modal = await this.modalController.create({\n      component: EditTaskPage,\n      componentProps: {\n        editTask: taskToBeEdit,\n        title: \"Edit Task\",\n      }\n    });\n    modal.onDidDismiss()\n      .then((data) => {\n        this.getTasks();\n        if (data.data != undefined && data.data.name != null) {\n          data.data.completionDate = new Date(data.data.completionDate);\n          //this.successToast('Task is edited.');\n        }\n      });\n    return await modal.present();\n  }\n\n  // get Sub tasks\n  public getTasks() {\n    this.storage.get('currentTask').then(currentTask => {\n      this.tasks = currentTask.subTasks;\n    })\n  }\n\n  // navigate to sub tasks view.\n  public navigateToView(subTask) {\n    this.storage.set('currentSubtask', subTask).then(data => {\n      this.router.navigateByUrl('/subtask-view');\n    })\n  }\n}"],"sourceRoot":""}