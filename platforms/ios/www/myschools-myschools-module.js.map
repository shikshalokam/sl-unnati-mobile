{"version":3,"sources":["webpack:///./src/app/myschools/myschools.module.ts","webpack:///./src/app/myschools/myschools.page.html","webpack:///./src/app/myschools/myschools.page.scss","webpack:///./src/app/myschools/myschools.page.ts"],"names":[],"mappings":"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","file":"myschools-myschools-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport {TranslateModule} from '@ngx-translate/core';\nimport {SharedModule} from '../shared.module';\nimport { MyschoolsPage } from './myschools.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyschoolsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,SharedModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    TranslateModule.forChild({\n  })\n  ],\n  declarations: [MyschoolsPage]\n})\nexport class MyschoolsPageModule {}\n","module.exports = \"<!-- <ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title\\n      >{{ \\\"mySchools.my_schools\\\" | translate }}\\n      <ion-icon\\n        name=\\\"wifi\\\"\\n        class=\\\"network-icon\\\"\\n        [ngClass]=\\\"{\\n          'no-connection': connected == 'false',\\n          connected: connected == 'true'\\n        }\\\"\\n        float-right\\n      ></ion-icon>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header> -->\\n<ion-header>\\n  <app-header [title]=\\\"'mySchools.my_schools' | translate\\\" [showMenu]=\\\"false\\\" [showBack]=\\\"true\\\" [isGoBack]=\\\"back\\\"\\n  [noBorder]=\\\"false\\\"> </app-header>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item class=\\\"search-bar-custom\\\" *ngIf=\\\"mySchools\\\">\\n    <ion-input\\n      type=\\\"text\\\"\\n      placeholder=\\\"Search\\\"\\n      [(ngModel)]=\\\"searchInput\\\"\\n      (keyup)=\\\"searchSchool(searchInput)\\\"\\n    ></ion-input>\\n    <ion-icon name=\\\"search\\\" item-right></ion-icon>\\n  </ion-item>\\n  <ion-card *ngIf=\\\"noSchools\\\" class=\\\"noschools\\\">\\n    No Schools found.\\n  </ion-card>\\n  <ion-card class=\\\"custom-card\\\" *ngIf=\\\"mySchools && !noSchools\\\">\\n    <ion-card-header>\\n      {{ \\\"mySchools.list_of_schools\\\" | translate }}\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-card *ngFor=\\\"let mySchool of mySchools\\\">\\n        <ion-card-header>\\n          {{ mySchool.name }}\\n        </ion-card-header>\\n        <ion-card-content>\\n          <ion-grid>\\n            <ion-row\\n              ><ion-col>\\n                <ion-button\\n                  size=\\\"small\\\"\\n                  color=\\\"primary\\\"\\n                  (click)=\\\"navigateToSchool(mySchool.entityId, mySchool.name)\\\"\\n                >\\n                  {{ \\\"mySchools.view_projects\\\" | translate }}\\n                </ion-button>\\n              </ion-col>\\n              <ion-col>\\n                <ion-button\\n                  size=\\\"small\\\"\\n                  color=\\\"primary\\\"\\n                  routerLink=\\\"/project-view/reports\\\"\\n                  class=\\\"ion-float-right\\\"\\n                  id=\\\"open-app\\\"\\n                >\\n                  {{ \\\"mySchools.observation_reports\\\" | translate }}\\n                </ion-button></ion-col\\n              >\\n            </ion-row>\\n          </ion-grid>\\n        </ion-card-content>\\n      </ion-card>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <!-- Skeleton screen -->\\n  <div *ngIf=\\\"!mySchools\\\">\\n    <ion-card>\\n      <ion-card-header>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n      </ion-card-header>\\n      <ion-card-content class=\\\"skeleton-card-content\\\">\\n        <ion-card *ngFor=\\\"let skeleton of skeletons\\\">\\n          <ion-card-header>\\n            <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n          </ion-card-header>\\n          <ion-card-content class=\\\"skeleton-card-content\\\">\\n            <p>\\n              <ion-skeleton-text\\n                animated\\n                style=\\\"\\n                        width: 48%;\\n                        float: left;\\n                        margin-right: 2%;\\\"\\n              ></ion-skeleton-text>\\n              <ion-skeleton-text\\n                animated\\n                style=\\\" width: 48%;\\n                        float: left;\\n                        margin-left: 2%;\\\"\\n              ></ion-skeleton-text>\\n            </p>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-card-content>\\n    </ion-card>\\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n      <ion-infinite-scroll-content\\n        loadingSpinner=\\\"bubbles\\\"\\n        loadingText=\\\"Loading more data...\\\"\\n      >\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </div>\\n</ion-content>\\n\"","module.exports = \".custom-card ion-card-header {\\n  background: #e3e3e3;\\n  padding: 10px;\\n  color: #000; }\\n\\n.custom-card ion-button {\\n  --border-radius: 20px;\\n  text-transform: none; }\\n\\n.custom-card ion-card-content {\\n  -webkit-padding-start: 0px !important;\\n          padding-inline-start: 0px !important;\\n  -webkit-padding-end: 0px !important;\\n          padding-inline-end: 0px !important; }\\n\\n.noschools {\\n  padding: 20px;\\n  text-align: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aXNod2FuYXRoYmFkaWdlci9Eb2N1bWVudHMvYXBwcy9zbC11bm5hdGkvdW5uYXRpLWZlYi9zbC11bm5hdGktbW9iaWxlL3NyYy9hcHAvbXlzY2hvb2xzL215c2Nob29scy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLFdBQVcsRUFBQTs7QUFKZjtFQU9JLHFCQUFnQjtFQUNoQixvQkFBb0IsRUFBQTs7QUFSeEI7RUFXSSxxQ0FBb0M7VUFBcEMsb0NBQW9DO0VBQ3BDLG1DQUFrQztVQUFsQyxrQ0FBa0MsRUFBQTs7QUFHdEM7RUFDRSxhQUFhO0VBQ2Isa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9teXNjaG9vbHMvbXlzY2hvb2xzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdXN0b20tY2FyZCB7XG4gIGlvbi1jYXJkLWhlYWRlciB7XG4gICAgYmFja2dyb3VuZDogI2UzZTNlMztcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGNvbG9yOiAjMDAwO1xuICB9XG4gIGlvbi1idXR0b24ge1xuICAgIC0tYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgfVxuICBpb24tY2FyZC1jb250ZW50IHtcbiAgICBwYWRkaW5nLWlubGluZS1zdGFydDogMHB4ICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZy1pbmxpbmUtZW5kOiAwcHggIWltcG9ydGFudDtcbiAgfVxufVxuLm5vc2Nob29scyB7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NetworkService } from '../network.service';\nimport { AppLauncher, AppLauncherOptions } from '@ionic-native/app-launcher/ngx';\nimport { Platform, NavController, MenuController } from '@ionic/angular';\nimport { Market } from '@ionic-native/market/ngx';\nimport { MyschoolsService } from './myschools.service'\nimport { ApiProvider } from '../api/api';\nimport { Storage } from '@ionic/storage';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Router } from '@angular/router';\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport * as jwt_decode from \"jwt-decode\";\n\n@Component({\n  selector: 'app-myschools',\n  templateUrl: './myschools.page.html',\n  styleUrls: ['./myschools.page.scss'],\n})\nexport class MyschoolsPage implements OnInit {\n  @ViewChild(NavController) nav: NavController;\n  connected: any = localStorage.getItem('networkStatus');\n  mySchools;\n  back =\"project-view/home\"\n  noSchools:boolean = false;\n  page: number = 1;\n  count: number = 5;\n  skeletons = [{}, {}, {}, {}, {}, {}];\n  constructor(public networkService: NetworkService, public menuCtrl: MenuController, public router: Router, public navctrl: NavController,public network: Network, public api: ApiProvider, public mySchoolsService: MyschoolsService, public storage: Storage, public platform: Platform, public appLauncher: AppLauncher, public market: Market) {\n    this.menuCtrl.enable(true);\n    this.networkService.emit.subscribe(value => {\n      this.connected = value;\n      if (this.connected) {\n        this.getSchools();\n      }\n      localStorage.setItem(\"networkStatus\", this.connected);\n    });\n  }\n  ionViewDidEnter() {\n    this.menuCtrl.enable(true);\n    this.checkNetwork();\n    this.getSchools();\n    this.connected = localStorage.getItem(\"networkStatus\");\n    this.storage.get('userTokens').then(data => {\n      let userDetails = jwt_decode(data.access_token);\n      this.storage.set('userDetails', userDetails);\n    })\n  }\n  ngOnInit() {\n  }\n  // get schools list\n  public getSchools() {\n    this.connected = localStorage.getItem(\"networkStatus\");\n    let connected = navigator.onLine;\n    if (connected) {\n      this.storage.get('userTokens').then(data => {\n        this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n          let parsedData = JSON.parse(data._body);\n          if (parsedData && parsedData.access_token) {\n            let userTokens = {\n              access_token: parsedData.access_token,\n              refresh_token: parsedData.refresh_token,\n            };\n            this.storage.set('userTokens', userTokens).then(data => {\n              this.mySchoolsService.getSchools(parsedData.access_token, this.count, this.page).subscribe((data: any) => {\n                this.mySchools = data.data;\n              }, error => {  })\n            })\n            //resolve()\n          }\n        }, error => {\n        })\n      })\n    } else {\n      this.networkService.networkErrorToast();\n    }\n  }\n  // Navigate to school\n  public navigateToSchool(id, name) {\n    let connected = navigator.onLine;\n    if (connected) {\n      localStorage.setItem('from1', 'mySchools');\n      this.router.navigate(['/project-view/school-task-report', id, name]);\n    } else {\n      this.networkService.networkErrorToast();\n    }\n  }\n\n  //Launch learner App\n  public openApp() {\n    this.market.open('org.shikshalokam.samiksha.staging');\n    // org.shikshalokam.app://community.shikshalokam.org/learn\n    const options: AppLauncherOptions = {\n      packageName: 'org.shikshalokam.samiksha.staging',\n    }\n    this.appLauncher.canLaunch(options).then((canLaunch: boolean) => {\n      if (canLaunch) {\n        this.appLauncher.launch(options).then(() => {\n        }, (err) => {\n        })\n      } else {\n        window.open('https://play.google.com/store/apps/details?id=org.shikshalokam.samiksha.staging&hl=en,_system');\n      }\n    }, error => {\n      window.open('https://play.google.com/store/apps/details?id=org.shikshalokam.samiksha.staging&hl=en,_system');\n    })\n  }\n  checkNetwork() {\n    this.platform.ready().then(() => {\n      this.network.onDisconnect()\n        .subscribe(() => {\n          this.connected = false;\n          this.networkService.status(this.connected);\n          localStorage.setItem(\"networkStatus\", this.connected);\n        }, error => {\n        });\n      this.network.onConnect()\n        .subscribe(() => {\n          this.connected = true;\n          this.networkService.status(this.connected);\n        });\n      // this.networkSubscriber();\n    });\n  }\n  // Search School\n  public searchSchool(keyword) {\n    this.connected = localStorage.getItem(\"networkStatus\");\n    let connected = navigator.onLine;\n    \n    if (connected ) {\n      this.storage.get('userTokens').then(data => {\n        this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n          let parsedData = JSON.parse(data._body);\n          if (parsedData && parsedData.access_token) {\n            let userTokens = {\n              access_token: parsedData.access_token,\n              refresh_token: parsedData.refresh_token,\n            };\n            this.storage.set('userTokens', userTokens).then(data => {\n              this.mySchoolsService.searchScool(parsedData.access_token, keyword).subscribe((data:any) => {\n                this.mySchools = data.data;\n                this.noSchools = false;\n                if(data.data.length ==0 )\n                {\n                  this.noSchools = true;\n                }\n              })\n            })\n            //resolve()\n          }\n        }, error => {\n        })\n      })\n    } else {\n      this.networkService.networkErrorToast();\n    }\n  }\n  // Load Data for infinite scroll\n  public loadData(event) {\n    event.target.complete();\n    //getReports(data,limit,page)\n    this.storage.get('userTokens').then(data => {\n      this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n        let parsedData = JSON.parse(data._body);\n        if (parsedData && parsedData.access_token) {\n          let userTokens = {\n            access_token: parsedData.access_token,\n            refresh_token: parsedData.refresh_token,\n          };\n          this.storage.set('userTokens', userTokens).then(usertoken => {\n            this.mySchoolsService.getSchools(userTokens.access_token, this.count, this.page).subscribe((data: any) => {\n              this.page = this.page + 1;\n              event.target.disabled = true;\n              this.mySchools.push(data.data);\n            }, error => {\n            })\n          }, error => {\n          })\n        }\n      })\n    })\n  }\n}\n"],"sourceRoot":""}