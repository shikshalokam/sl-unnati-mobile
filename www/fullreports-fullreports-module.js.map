{"version":3,"sources":["webpack:///./src/app/fullreports/fullreports.module.ts","webpack:///./src/app/fullreports/fullreports.page.html","webpack:///./src/app/fullreports/fullreports.page.scss","webpack:///./src/app/fullreports/fullreports.page.ts"],"names":[],"mappings":"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","file":"fullreports-fullreports-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport {TranslateModule} from '@ngx-translate/core';\nimport {SharedModule} from '../shared.module';\nimport { IonicModule } from '@ionic/angular';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\nimport { FullreportsPage } from './fullreports.page';\nconst routes: Routes = [\n  {\n    path: '',\n    component: FullreportsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,SharedModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    TranslateModule.forChild()\n  ],\n  declarations: [FullreportsPage],\n  providers:[ScreenOrientation]\n})\nexport class FullreportsPageModule {}\n","module.exports = \"<ion-header>\\n  <app-header\\n    [title]=\\\"'fullreports.title' | translate\\\"\\n    [showMenu]=\\\"false\\\"\\n    [showBack]=\\\"true\\\"\\n    [isGoBack]=\\\"back\\\"\\n    [noBorder]=\\\"false\\\"\\n  >\\n  </app-header>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <h5 *ngIf=\\\"state == 'latsMonth'\\\">\\n    {{ \\\"fullreports.undertaken_prjcts_inmonth\\\" | translate }}\\n  </h5>\\n  <h5 *ngIf=\\\"state == 'lastQuarter'\\\">\\n    {{ \\\"fullreports.undertaken_prjcts_inqrtr\\\" | translate }}\\n  </h5>\\n  <!-- <ion-card *ngFor=\\\"let report of reports; let i = index\\\">\\n    <ion-card-header>\\n      {{ report.title.text }}\\n    </ion-card-header>\\n  </ion-card> -->\\n  <!-- <div >\\n    <ion-card>\\n      <ion-card-header> Project Name </ion-card-header>\\n      <ion-card-content id=\\\"container0\\\"> </ion-card-content>\\n    </ion-card>\\n    <ion-card id=\\\"container1\\\"></ion-card>\\n    <ion-card id=\\\"container2\\\"></ion-card>\\n    <ion-card id=\\\"container3\\\"></ion-card>\\n    <ion-card id=\\\"container4\\\"></ion-card>\\n    <ion-card id=\\\"container5\\\"></ion-card>\\n    <ion-card id=\\\"container6\\\"></ion-card>\\n    <ion-card id=\\\"container7\\\"></ion-card>\\n    <ion-card id=\\\"container8\\\"></ion-card>\\n    <ion-card id=\\\"container9\\\"></ion-card>\\n  </div> -->\\n\\n  <div>\\n    <ion-card\\n      *ngFor=\\\"let report of reports; let i = index\\\"\\n      style=\\\"background: #f5f5f5b8;\\n    border-radius: 10px;\\\"\\n    >\\n      <ion-card-header class=\\\"chart-title\\\">\\n        {{ report.title.text }}\\n      </ion-card-header>\\n      <ion-card-content>\\n        <div id=\\\"{{ idvalue }}{{ i }}\\\"></div>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n  <!-- <div *ngIf=\\\"chartOptions\\\">\\n    <highcharts-chart\\n      [Highcharts]=\\\"highcharts\\\"\\n      [options]=\\\"chartOptions\\\"\\n      style=\\\"width: 100%; height: 400px; display: block;\\\"\\n    >\\n    </highcharts-chart>\\n  </div> -->\\n  <div *ngIf=\\\"showSkeleton\\\">\\n    <ion-card>\\n      <ion-card-content class=\\\"skeleton-card-content\\\">\\n        <ion-card *ngFor=\\\"let skeleton of skeletons\\\">\\n          <ion-card-content class=\\\"skeleton-card-content\\\">\\n            <p>\\n              <ion-skeleton-text\\n                animated\\n                style=\\\" width: 48%;\\n                        float: left;height: 200px;\\n                        margin-left: 2%;\\\"\\n              ></ion-skeleton-text>\\n              <ion-skeleton-text\\n                animated\\n                animated\\n                style=\\\" width: 48%;\\n                        float: left;\\n                        margin-left: 2%;height: 200px;\\\"\\n              ></ion-skeleton-text>\\n              <ion-skeleton-text animated></ion-skeleton-text>\\n            </p>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n</ion-content>\\n\"","module.exports = \".chart-title {\\n  color: #4d4f5c;\\n  margin-bottom: 20px;\\n  font-family: Source Code Pro-Bold; }\\n\\n.highcharts-yaxis .highcharts-axis-line {\\n  stroke-width: 0px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aXNod2FuYXRoYmFkaWdlci9Eb2N1bWVudHMvYXBwcy91bm5hdGktbW9iaWxlLWFwcGxpY2F0aW9uL3NsLXVubmF0aS1tb2JpbGUvc3JjL2FwcC9mdWxscmVwb3J0cy9mdWxscmVwb3J0cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0VBQ2QsbUJBQW1CO0VBQ25CLGlDQUFpQyxFQUFBOztBQTZCbkM7RUFDRSw0QkFBNEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2Z1bGxyZXBvcnRzL2Z1bGxyZXBvcnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jaGFydC10aXRsZSB7XG4gIGNvbG9yOiAjNGQ0ZjVjO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBmb250LWZhbWlseTogU291cmNlIENvZGUgUHJvLUJvbGQ7XG59XG5cbi8vICNjb250YWluZXIwLFxuLy8gI2NvbnRhaW5lcjEsXG4vLyAjY29udGFpbmVyMixcbi8vICNjb250YWluZXIzLFxuLy8gI2NvbnRhaW5lcjQsXG4vLyAjY29udGFpbmVyNSxcbi8vICNjb250YWluZXI2LFxuLy8gI2NvbnRhaW5lcjcsXG4vLyAjY29udGFpbmVyOCxcbi8vICNjb250YWluZXI5LFxuLy8gI2NvbnRhaW5lcjEwLFxuLy8gI2NvbnRhaW5lcjExLFxuLy8gI2NvbnRhaW5lcjEyLFxuLy8gI2NvbnRhaW5lcjEzLFxuLy8gI2NvbnRhaW5lcjE0LFxuLy8gI2NvbnRhaW5lcjE1LFxuLy8gI2NvbnRhaW5lcjE2LFxuLy8gI2NvbnRhaW5lcjE3LFxuLy8gI2NvbnRhaW5lcjE4LFxuLy8gI2NvbnRhaW5lcjE5LFxuLy8gI2NvbnRhaW5lcjIwIHtcbi8vICAgbWF4LXdpZHRoOiAzNTBweDtcbi8vICAgbWluLXdpZHRoOiAzNTBweDtcbi8vICAgaGVpZ2h0OiA0MDBweDtcbi8vICAgd2lkdGg6IDQwMHB4O1xuLy8gfVxuLmhpZ2hjaGFydHMteWF4aXMgLmhpZ2hjaGFydHMtYXhpcy1saW5lIHtcbiAgc3Ryb2tlLXdpZHRoOiAwcHggIWltcG9ydGFudDtcbn1cbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MyReportsService } from '../my-reports/my-reports.service';\nimport { ApiProvider } from '../api/api';\nimport { Storage } from '@ionic/storage';\nimport * as Highcharts from 'highcharts/highcharts-gantt';\nimport { ScreenOrientation } from '@ionic-native/screen-orientation/ngx';\n@Component({\n  selector: 'app-fullreports',\n  templateUrl: './fullreports.page.html',\n  styleUrls: ['./fullreports.page.scss'],\n})\nexport class FullreportsPage implements OnInit {\n  public state;\n  public timeInterval\n  public reports\n  public idvalue = 'container';\n  highcharts = Highcharts;\n  public showCharts: boolean = false;\n  public chartOptions;\n  public showSkeleton: boolean = false;\n  public skeleton = [{}];\n  public back = \"/project-view/my-reports/last-month-reports\"\n  constructor(public activatedRoute: ActivatedRoute, public screenOrientation: ScreenOrientation, public router: Router, public myReportsService: MyReportsService, public api: ApiProvider, public storage: Storage) {\n    activatedRoute.params.subscribe((params: any) => {\n      this.state = params.state;\n      this.getReports(params.state);\n      try {\n        this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.LANDSCAPE);\n      } catch (error) {\n      }\n    })\n  }\n  ngOnInit() {\n  }\n  public getReports(state) {\n    this.storage.get('userTokens').then(data => {\n      this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n        let parsedData = JSON.parse(data._body);\n        if (parsedData && parsedData.access_token) {\n          let userTokens = {\n            access_token: parsedData.access_token,\n            refresh_token: parsedData.refresh_token,\n          };\n          this.showSkeleton = true;\n          this.storage.set('userTokens', userTokens).then(usertoken => {\n            this.myReportsService.getFullReports(userTokens.access_token, state).subscribe((data: any) => {\n              data.data.forEach(report => {\n              });\n              this.reports = data.data;\n              if (this.reports.length > 0) {\n\n                setTimeout(() => {\n                  this.showCharts = true;\n                  this.setUpChart(this.reports[0]);\n                }, 1000);\n              } else {\n                this.showSkeleton = false;\n              }\n            }, error => {\n              this.showSkeleton = false;\n            })\n          }, error => {\n            this.showSkeleton = false;\n          })\n        }\n      })\n    })\n  }\n  public setUpChart(data) {\n    this.showSkeleton = false;\n    for (let i = 0; i <= this.reports.length; i++) {\n      let minDate = new Date(this.reports[i].xAxis.min);\n      let maxDate = new Date(this.reports[i].xAxis.max);\n      let sdate = minDate.getDate();\n      let smonth = minDate.getMonth() + 1;\n      let syear = minDate.getFullYear();\n      let edate = maxDate.getDate();\n      let emonth = maxDate.getMonth() + 1;\n      let eyear = maxDate.getFullYear();\n      let minDate1 = Date.UTC(syear, smonth, sdate);\n      let maxDate1 = Date.UTC(eyear, emonth, edate);\n      Highcharts.ganttChart('container' + i, {\n        title: {\n          text: ''\n        },\n        xAxis: {\n          min: minDate1,\n          max: maxDate1\n        },\n        legend: {\n          enabled: false\n        }, credits: {\n          enabled: false\n        },\n        series: [{\n          type: 'gantt',\n          data: this.reports[i].series[0].data\n        }]\n      });\n    }\n  }\n  // go back\n  public goBack() {\n    this.router.navigate(['/project-view/my-reports/last-' + this.state + '-reports']);\n  }\n\n  ngOnDestroy() {\n    // try {\n    //   this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n    // } catch (error) {\n    // }\n  }\n}"],"sourceRoot":""}