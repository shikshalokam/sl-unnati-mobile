{"version":3,"sources":["webpack:///./node_modules/rxjs-compat/_esm5/add/operator/debounceTime.js","webpack:///./node_modules/rxjs-compat/_esm5/operator/debounceTime.js","webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts","webpack:///./src/app/safe-pipe.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { Observable } from 'rxjs';\nimport { debounceTime } from '../../operator/debounceTime';\nObservable.prototype.debounceTime = debounceTime;\n//# sourceMappingURL=debounceTime.js.map","import { asyncScheduler } from 'rxjs';\nimport { debounceTime as higherOrder } from 'rxjs/operators';\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    return higherOrder(dueTime, scheduler)(this);\n}\n//# sourceMappingURL=debounceTime.js.map","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FcmProvider } from '../fcm';\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\nimport {SafePipe} from '../safe-pipe';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage,SafePipe],\n  providers: [FcmProvider]\n})\nexport class LoginPageModule { }\n","module.exports = \"<ion-content class=\\\"ion-padding\\\" *ngIf=\\\"show\\\">\\n\\n\\n\\n  <!-- <iframe style=\\\"height: 600px;\\n    padding-left: 30px;\\n    padding-right: 30px;\\\" *ngIf=\\\"showLogin\\\"\\n    src=\\\"https://dev.shikshalokam.org/auth/realms/sunbird/protocol/openid-connect/auth?response_type=code&scope=offline_access&client_id=sl-ionic-connect&redirect_uri=http://localhost:8100/project-view/home\\\"></iframe> -->\\n\\n  <!-- On boarding screens -->\\n  <ion-slides pager=\\\"true\\\" [options]=\\\"slideOpts\\\" style=\\\"min-height: 100%;\\\"\\n    (ionSlidePrevEnd)=\\\"slideDidChangePrev($event)\\\" (ionSlideNextEnd)=\\\"slideDidChangeNext($event)\\\">\\n    <ion-slide *ngIf=\\\"veryFirstTime\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <div class=\\\"img-container\\\">\\n            <img src=\\\"../../assets/images/onboarding1.png\\\" />\\n          </div>\\n        </ion-row>\\n        <div>\\n          <div class=\\\"onboard-header\\\">\\n            Planning Improvement Projects\\n          </div>\\n          <p>\\n            Create and track projects towards improving school and school\\n            support system.\\n          </p>\\n        </div>\\n      </ion-grid>\\n    </ion-slide>\\n    <ion-slide *ngIf=\\\"veryFirstTime\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <div class=\\\"img-container\\\">\\n            <img src=\\\"../../assets/images/onboarding2.png\\\" />\\n          </div>\\n        </ion-row>\\n        <div>\\n          <div class=\\\"onboard-header\\\">\\n            Assign Tasks and Subtasks\\n          </div>\\n          <p>\\n            Divide your plans into tasks and sub-tasks and assign it to other\\n            users.\\n          </p>\\n        </div>\\n      </ion-grid>\\n    </ion-slide>\\n    <ion-slide *ngIf=\\\"!veryFirstTime\\\">\\n      <ion-grid style=\\\"margin-top: 50%;\\\">\\n        <ion-col>\\n          <ion-icon name=\\\"ios-key\\\" style=\\\"font-size: 140px;color: #777;\\\"></ion-icon>\\n        </ion-col>\\n        <ion-col>\\n          <br />\\n          <br />\\n          <a (click)=\\\"loginClick()\\\">\\n            <div>\\n              <h1>\\n                LOGIN\\n                <span>\\n                  <ion-icon name=\\\"ios-log-in\\\" style=\\\"vertical-align: middle;\\\">\\n                  </ion-icon>\\n                </span>\\n              </h1>\\n            </div>\\n          </a>\\n        </ion-col>\\n      </ion-grid>\\n    </ion-slide>\\n  </ion-slides>\\n\\n</ion-content>\\n<ion-footer class=\\\"ion-footer-custom\\\" *ngIf=\\\"show && veryFirstTime\\\">\\n  <ion-button *ngIf=\\\"buttonTitle == 'Skip'\\\" expand=\\\"block\\\" (click)=\\\"loginClick()\\\">\\n    {{ buttonTitle }}\\n  </ion-button>\\n  <ion-button *ngIf=\\\"buttonTitle == 'Get started'\\\" class=\\\"brdr-radius-30\\\" (click)=\\\"loginClick()\\\">\\n    {{ buttonTitle }}\\n  </ion-button>\\n</ion-footer>\"","module.exports = \"ion-slide h5 {\\n  text-align: center; }\\n\\nion-slide p {\\n  text-align: justify;\\n  font-size: 16px;\\n  color: #707070; }\\n\\nion-slide img {\\n  width: 100%;\\n  max-width: 350px;\\n  min-height: 325px;\\n  max-height: 325px;\\n  margin: 20% 0px; }\\n\\n.footer-md:before {\\n  background-image: none !important; }\\n\\n.ion-footer-custom {\\n  text-align: center !important;\\n  background: #fff !important; }\\n\\n.ion-footer-custom .brdr-radius-30 {\\n    --border-radius: 30px; }\\n\\n.onboard-header {\\n  text-align: center;\\n  font-size: 18px;\\n  font-weight: 900;\\n  margin-top: 7%; }\\n\\n.onboard-header p {\\n    text-align: center; }\\n\\n.img-container {\\n  display: block;\\n  margin: auto; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aXNod2FuYXRoYmFkaWdlci9Eb2N1bWVudHMvYXBwcy9zbC11bm5hdGkvdW5uYXRpLWZlYi9zbC11bm5hdGktbW9iaWxlL3NyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksa0JBQWtCLEVBQUE7O0FBRnRCO0VBS0ksbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixjQUFjLEVBQUE7O0FBUGxCO0VBVUksV0FBVztFQUNYLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLGVBQWUsRUFBQTs7QUFJbkI7RUFDRSxpQ0FBaUMsRUFBQTs7QUFFbkM7RUFDRSw2QkFBNkI7RUFDN0IsMkJBQTJCLEVBQUE7O0FBRjdCO0lBSUkscUJBQWdCLEVBQUE7O0FBR3BCO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsY0FBYyxFQUFBOztBQUpoQjtJQU1JLGtCQUFrQixFQUFBOztBQUd0QjtFQUNFLGNBQWM7RUFDZCxZQUFZLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tc2xpZGUge1xuICBoNSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG4gIHAge1xuICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGNvbG9yOiAjNzA3MDcwO1xuICB9XG4gIGltZyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LXdpZHRoOiAzNTBweDtcbiAgICBtaW4taGVpZ2h0OiAzMjVweDtcbiAgICBtYXgtaGVpZ2h0OiAzMjVweDtcbiAgICBtYXJnaW46IDIwJSAwcHg7XG4gIH1cbn1cblxuLmZvb3Rlci1tZDpiZWZvcmUge1xuICBiYWNrZ3JvdW5kLWltYWdlOiBub25lICFpbXBvcnRhbnQ7XG59XG4uaW9uLWZvb3Rlci1jdXN0b20ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZDogI2ZmZiAhaW1wb3J0YW50O1xuICAuYnJkci1yYWRpdXMtMzAge1xuICAgIC0tYm9yZGVyLXJhZGl1czogMzBweDtcbiAgfVxufVxuLm9uYm9hcmQtaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDE4cHg7XG4gIGZvbnQtd2VpZ2h0OiA5MDA7XG4gIG1hcmdpbi10b3A6IDclO1xuICBwe1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxufVxuLmltZy1jb250YWluZXIge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiBhdXRvO1xufVxuIl19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { AppConfigs } from \"../app.config\";\nimport { Storage } from '@ionic/storage';\nimport { Router } from '@angular/router';\nimport { Network } from '@ionic-native/network/ngx';\nimport { NetworkService } from '../network.service';\nimport 'rxjs/add/operator/debounceTime';\nimport { debounceTime } from 'rxjs/operators/debounceTime';\nimport { MenuController } from '@ionic/angular';\nimport { Login } from '../login.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as jwt_decode from \"jwt-decode\";\nimport { IonSlides } from '@ionic/angular';\nimport { FcmProvider } from '../fcm';\n\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  @ViewChild('slides') slides: IonSlides;\n  veryFirstTime: boolean = false;\n  responseData;\n  redirect_url: string;\n  showLogin: boolean = false;\n  logout_url: string;\n  auth_url: SafeUrl;\n  base_url: string;\n  show: boolean = false;\n  buttonTitle = \"Skip\";\n  logout_redirect_url: string;\n  language: string = this.translateService.currentLang;\n  constructor(public storage: Storage,\n    public router: Router,\n    public iab: InAppBrowser,\n    public login: Login,\n    public translateService: TranslateService,\n    public menuCtrl: MenuController,\n    public networkService: NetworkService,\n    public network: Network,\n    public fcm: FcmProvider,\n    private sanitizer: DomSanitizer) {\n  }\n  slideOpts = {\n    initialSlide: 0,\n    speed: 400,\n    zoom: false\n  };\n  ionViewDidEnter() {\n    if (localStorage.getItem(\"token\") != null) {\n      this.menuCtrl.enable(true, 'unnati')\n      this.router.navigateByUrl('/project-view/home');\n    } else {\n      this.show = true;\n      this.storage.get('veryFirstTime').then(data => {\n        if (data == null || data == undefined)\n          this.veryFirstTime = true;\n      })\n    }\n  }\n  ngOnInit() {\n    if (localStorage.getItem(\"token\") != null) {\n      this.menuCtrl.enable(true, 'unnati')\n      this.router.navigateByUrl('/project-view/home');\n    } else {\n      this.show = true;\n      this.storage.get('veryFirstTime').then(data => {\n        if (data == null || data == undefined)\n          this.veryFirstTime = true;\n      })\n    }\n    //this.checkUser();\n  }\n  //Login \n  doOAuthStepOne(): Promise<any> {\n    this.base_url = AppConfigs.app_url;\n    this.redirect_url = AppConfigs.keyCloak.redirection_url;\n    this.auth_url = this.base_url + \"/auth/realms/sunbird/protocol/openid-connect/auth?response_type=code&scope=offline_access&client_id=\" + AppConfigs.clientId + \"&redirect_uri=\" +\n      this.redirect_url;\n    //  this.auth_url =  this.sanitizer.bypassSecurityTrustResourceUrl(auth_url);\n    let that = this;\n    return new Promise(function (resolve, reject) {\n      let closeCallback = function (event) {\n        reject(\"The Sunbird sign in flow was canceled\");\n      };\n      let browserRef = (<any>window).cordova.InAppBrowser.open(that.auth_url, \"_blank\", \"zoom=no\");\n      browserRef.addEventListener('loadstart', function (event) {\n        if (event.url && ((event.url).indexOf(that.redirect_url) === 0)) {\n          browserRef.removeEventListener(\"exit\", closeCallback);\n          let responseParameters = (((event.url).split(\"?\")[1]).split(\"=\"))[1];\n          if (responseParameters !== undefined) {\n            this.show = false;\n            browserRef.close();\n            resolve(responseParameters);\n          } else {\n            reject(\"Problem authenticating with Sunbird\");\n          }\n        }\n      });\n    });\n  }\n\n  // Login call\n  loginClick() {\n    // this.showLogin = true;\n    this.doOAuthStepOne().then(success => {\n      this.menuCtrl.enable(true);\n      this.login.doOAuthStepTwo(success).then(success1 => {\n        this.menuCtrl.enable(true);\n        this.login.checkForCurrentUserLocalData(success1);\n        let userDetails = jwt_decode(success1.access_token);\n        this.menuCtrl.enable(true);\n        this.storage.set('userDetails', userDetails).then(userData => {\n        })\n        this.storage.set('userTokens', success1).then(data => {\n          this.router.navigateByUrl('/project-view/home');\n          this.fcm.initializeFCM();\n          this.login.loggedIn('true');\n          this.menuCtrl.enable(true);\n          this.storage.set('veryFirstTime', 'false').then(data => {\n            this.veryFirstTime = false;\n          })\n        });\n        localStorage.setItem('token', success1);\n        this.networkService.status(true);\n        this.menuCtrl.enable(true);\n        this.login.loggedIn('true');\n        localStorage.setItem(\"networkStatus\", 'true');\n      }).catch(error1 => {\n      })\n    }).catch(error => {\n    })\n  }\n\n  slideDidChangePrev(event) {\n    this.buttonTitle = \"Skip\";\n  }\n  slideDidChangeNext(event) {\n    this.buttonTitle = \"Get started\";\n  }\n\n  //Check User is logged in or not\n  public checkUser() {\n    if (localStorage.getItem(\"token\") != null) {\n      this.router.navigateByUrl('/project-view/home');\n    } else {\n      this.show = true;\n    }\n  }\n}","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safe'\n})\nexport class SafePipe implements PipeTransform {\n\n  constructor(private sanitizer: DomSanitizer) { }\n  transform(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n\n}"],"sourceRoot":""}