{"version":3,"sources":["webpack:///./src/app/reports/reports.module.ts","webpack:///./src/app/reports/reports.page.html","webpack:///./src/app/reports/reports.page.scss","webpack:///./src/app/reports/reports.page.ts"],"names":[],"mappings":"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","file":"reports-reports-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport {TranslateModule} from '@ngx-translate/core';\nimport { IonicModule } from '@ionic/angular';\nimport {SharedModule} from '../shared.module';\nimport { ReportsPage } from './reports.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReportsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,SharedModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    TranslateModule.forChild({\n    })\n  ],\n  declarations: [ReportsPage]\n})\nexport class ReportsPageModule {}\n","module.exports = \"<ion-header>\\n  <app-header\\n    [title]=\\\"'reports.title' | translate\\\"\\n    [showMenu]=\\\"false\\\"\\n    [noBorder]=\\\"false\\\"\\n    [showBack]=\\\"true\\\"\\n    [noBorder]=\\\"false\\\"\\n    [isGoBack]=\\\"back\\\"\\n  >\\n  </app-header>\\n</ion-header>\\n<ion-content>\\n  <div *ngIf=\\\"showSkeleton\\\">\\n    <ion-card>\\n      <ion-card-content class=\\\"skeleton-card-content\\\">\\n        <ion-card *ngFor=\\\"let skeleton of skeletons\\\">\\n          <ion-card-content class=\\\"skeleton-card-content\\\">\\n            <p><ion-skeleton-text animated></ion-skeleton-text></p>\\n            <p>\\n              <ion-skeleton-text animated></ion-skeleton-text>\\n              <ion-skeleton-text animated></ion-skeleton-text>\\n              <ion-skeleton-text animated></ion-skeleton-text>\\n            </p>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n  <div *ngIf=\\\"reports && !showSkeleton\\\">\\n    <ion-card *ngIf=\\\"reports.length == 0\\\" padding>\\n      No Reports available.\\n    </ion-card>\\n    <ion-card *ngIf=\\\"noSchools\\\" class=\\\"noschools\\\"  padding>\\n      No Reports available.\\n    </ion-card>\\n    <ion-card\\n      class=\\\"report-card\\\"\\n      *ngFor=\\\"let report of reports\\\"\\n      (click)=\\\"\\n        getReportFile(report.observationSubmissionId, report.observationName)\\n      \\\"\\n    >\\n      <ion-card-content style=\\\"padding-inline-start: 10px;\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col style=\\\"min-width:90%;\\\">\\n              <ion-row>\\n                <ion-col>\\n                  <label>{{ \\\"reports.name\\\" | translate }} : </label\\n                  ><b> {{ report.entityName }} </b> <br />\\n                  <label>{{ \\\"reports.obsr_name\\\" | translate }} : </label>\\n                  <b> {{ report.observationName }}</b> <br />\\n                  <label>{{ \\\"reports.date\\\" | translate }} : </label>\\n                  <b>{{ report.date }}</b\\n                  ><br />\\n                </ion-col> </ion-row\\n            ></ion-col>\\n            <ion-col> <ion-icon name=\\\"ios-arrow-forward\\\"> </ion-icon></ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n  <ion-infinite-scroll threshold=\\\"50px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Loading more data...\\\"\\n    >\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\"","module.exports = \".report-card {\\n  font-size: 30px;\\n  color: #000;\\n  margin-top: 5%;\\n  background: #e3e3e3; }\\n  .report-card ion-card-content {\\n    -webkit-padding-start: 10px !important;\\n            padding-inline-start: 10px !important;\\n    color: #000; }\\n  .report-card ion-col, .report-card ion-row, .report-card ion-grid {\\n    padding: 0px !important; }\\n  .report-card ion-icon {\\n    font-size: 30px;\\n    margin-top: 35%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aXNod2FuYXRoYmFkaWdlci9Eb2N1bWVudHMvYXBwcy9zbC11bm5hdGkvdW5uYXRpLWZlYi9zbC11bm5hdGktbW9iaWxlL3NyYy9hcHAvcmVwb3J0cy9yZXBvcnRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUVRLGVBQWU7RUFDbkIsV0FBVztFQUNYLGNBQWM7RUFDZCxtQkFBa0IsRUFBQTtFQUx0QjtJQVFRLHNDQUFxQztZQUFyQyxxQ0FBcUM7SUFDckMsV0FBVyxFQUFBO0VBVG5CO0lBWVEsdUJBQXVCLEVBQUE7RUFaL0I7SUFnQlEsZUFBZTtJQUNmLGVBQWUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydHMvcmVwb3J0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5yZXBvcnQtY2FyZFxue1xuICAgICAgICBmb250LXNpemU6IDMwcHg7XG4gICAgY29sb3I6ICMwMDA7XG4gICAgbWFyZ2luLXRvcDogNSU7XG4gICAgYmFja2dyb3VuZDojZTNlM2UzO1xuICAgIGlvbi1jYXJkLWNvbnRlbnRcbiAgICB7XG4gICAgICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAxMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGNvbG9yOiAjMDAwO1xuICAgIH1cbiAgICBpb24tY29sLGlvbi1yb3csaW9uLWdyaWR7XG4gICAgICAgIHBhZGRpbmc6IDBweCAhaW1wb3J0YW50O1xuICAgIH1cbiAgICBpb24taWNvblxuICAgIHtcbiAgICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAzNSU7XG4gICAgfSBcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Network } from '@ionic-native/network/ngx';\nimport { NetworkService } from '../network.service';\nimport { ReportsService } from './reports.service';\nimport { Storage } from '@ionic/storage';\nimport { ApiProvider } from '../api/api';\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport { Location } from '@angular/common';\nimport { HomeService } from '../home/home.service';\n@Component({\n  selector: 'app-reports',\n  templateUrl: './reports.page.html',\n  styleUrls: ['./reports.page.scss'],\n})\nexport class ReportsPage implements OnInit {\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  public skeletons = [{}, {}, {}, {}, {}];\n  public showSkeleton: boolean = false;\n  public noReports: boolean = false;\n  public connected: any = localStorage.getItem('networkStatus');\n  public page: number = 0;\n  public reports;\n  back = 'project-view/my-schools';\n  constructor(public network: Network,\n    public homeService: HomeService,\n    public location: Location,\n    public networkService: NetworkService,\n    public storage: Storage,\n    public reportsService: ReportsService,\n    public api: ApiProvider) {\n    this.networkService.emit.subscribe(value => {\n      this.connected = value;\n      localStorage.setItem(\"networkStatus\", this.connected);\n    });\n  }\n\n  ngOnInit() {\n  }\n  ionViewDidEnter() {\n    if (!this.reports) {\n      this.getReports();\n    }\n  }\n\n  // infinite scroll\n  loadData(event) {\n    event.target.complete();\n    //getReports(data,limit,page)\n    this.storage.get('userTokens').then(data => {\n      this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n        let parsedData = JSON.parse(data._body);\n        if (parsedData && parsedData.access_token) {\n          let userTokens = {\n            access_token: parsedData.access_token,\n            refresh_token: parsedData.refresh_token,\n          };\n          this.storage.set('userTokens', userTokens).then(usertoken => {\n            this.page = this.page + 1;\n            this.reportsService.getReports(userTokens.access_token, 2, this.page).subscribe((data: any) => {\n              event.target.disabled = true;\n              // this.reports.push(data.data);\n              this.reports = data.data;\n              this.showSkeleton = false;\n            }, error => {\n            })\n          }, error => {\n          })\n        }\n      })\n    })\n  }\n  // Get reports\n  public getReports() {\n    this.storage.get('userTokens').then(data => {\n      this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n        let parsedData = JSON.parse(data._body);\n        if (parsedData && parsedData.access_token) {\n          let userTokens = {\n            access_token: parsedData.access_token,\n            refresh_token: parsedData.refresh_token,\n          };\n          this.storage.set('userTokens', userTokens).then(usertoken => {\n            this.showSkeleton = true;\n            this.page = this.page + 1;\n            this.reportsService.getReports(userTokens.access_token, 2, this.page).subscribe((data: any) => {\n              if (data.data) {\n\n                this.reports = data.data;\n              }\n              this.showSkeleton = false;\n            }, error => {\n              this.showSkeleton = false;\n            })\n          }, error => {\n            this.showSkeleton = false;\n          })\n        }\n      })\n    })\n  }\n\n  // get report file\n  public getReportFile(id, title) {\n    this.storage.get('userTokens').then(data => {\n      this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n        let parsedData = JSON.parse(data._body);\n        if (parsedData && parsedData.access_token) {\n          let userTokens = {\n            access_token: parsedData.access_token,\n            refresh_token: parsedData.refresh_token,\n          };\n          this.storage.set('userTokens', userTokens).then(usertoken => {\n            this.showSkeleton = true;\n            this.reportsService.getReportFile(userTokens.access_token, id).subscribe((data: any) => {\n              //  window.open(data.pdfUrl)\n              let report = {\n                title: title,\n                id: id\n              }\n              this.storage.get('myReports').then(rprts => {\n                if (rprts) {\n                  if (rprts.find((pro) => pro.id === report.id) === undefined) {\n                    rprts.push(report);\n                    this.storage.set('myReports', rprts).then((uprep: any) => {\n                      this.homeService.loadMyProjects();\n                    });\n                  }\n                } else {\n                  let data1: any = [];\n                  data1.push(report);\n                  this.storage.set('myReports', data1).then((data: any) => {\n                    this.homeService.loadMyProjects();\n                  });\n                }\n              })\n\n              var link = document.createElement('a');\n              link.href = data.pdfUrl;\n              link.download = \"report.pdf\";\n              // this is necessary as link.click() does not work on the latest firefox\n              link.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }));\n              this.showSkeleton = false;\n            }, error => {\n              this.showSkeleton = false;\n            })\n          }, error => {\n          })\n        }\n      })\n    });\n  }\n  // Search School\n  public searchReport(keyword) {\n    this.storage.get('userTokens').then(data => {\n      this.api.refershToken(data.refresh_token).subscribe((data: any) => {\n        let parsedData = JSON.parse(data._body);\n        if (parsedData && parsedData.access_token) {\n          let userTokens = {\n            access_token: parsedData.access_token,\n            refresh_token: parsedData.refresh_token,\n          };\n          this.storage.set('userTokens', userTokens).then(usertoken => {\n            this.showSkeleton = true;\n            this.page = this.page + 1;\n            this.reportsService.searchReports(userTokens.access_token, keyword).subscribe((data: any) => {\n              if (data.data) {\n                this.reports = data.data;\n              }\n              if (data.data.length == 0) {\n                this.noReports = true;\n              }\n              this.showSkeleton = false;\n            }, error => {\n              this.showSkeleton = false;\n            })\n          }, error => {\n            this.showSkeleton = false;\n          })\n        }\n      })\n    })\n  }\n  public goBack() {\n    this.location.back();\n  }\n}\n"],"sourceRoot":""}